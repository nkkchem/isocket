machine:
  environment:
    PYTHONPATH: "/home/ubuntu:$PYTHONPATH"
  python:
    version: 3.5.0
dependencies:
  pre:
    # isambard
    - pip install --upgrade pip
    - cd /home/ubuntu/
    - git clone https://github.com/woolfson-group/isambard_dev.git
    - mv isambard_dev /home/ubuntu/
    - git clone git@github.com:woolfson-group/dependencies_for_isambard.git
    # DSSP
    - chmod +x /home/ubuntu/isambard_dev/dependencies_for_isambard/dssp/dssp-2.0.4
    - python /home/ubuntu/isambard_dev/isambard_dev/configure.py -C
test:
  override:
    - cd /home/ubuntu/isocket
    - python configure.py -C
    - PYTHONPATH=$PYTHONPATH:/home/ubuntu/isambard_dev/ python -m unittest discover unit_tests/. -v